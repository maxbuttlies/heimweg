(function(){var t,e,n,a,r,i,s,o,c,u,l,d,h,f,w,m,p,v,y,g,b;y=5,u=11,d=15,c=25,v=51,n=u,e=null,w=null,m=null,g=null,b=null,s=null,h=function(){return $(".game").empty(),$(".message").hide(),$(".finished").hide(),$(".losed").hide(),e=500/n,w=0,m=null,g=Math.floor(n/2),b=0,s=new Array(n)},t=function(t){return $(".twitter").html('<a href="https://twitter.com/share" class="twitter-share-button" data-text="'+t+"'\" data-via=\"maxbuttlies\">Tweet</a>        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>")},l=function(a,r){return $(".man").css("left",a*e),$(".man").css("top",r*e),s[r][a].isWay||($(".twitter-share-button").attr("data-text","test"),$(".message").show(),$(".losed").show(),clearInterval(m),t("I dont found my way, can you find him? http://buttli.es/heimweg")),r===n-1?($(".message").show(),$(".finished").show(),clearInterval(m),t("I found my way in "+w+" seconds, can you find him? http://buttli.es/heimweg")):void 0},f=function(){return null===m?(m=setInterval(p,1e3),$(".way").removeClass("way")):void 0},i=function(t){return 10>t?"0"+t:t},p=function(){var t,e;return w++,t=i(Math.round(w/60)),e=i(Math.round(w%60)),$(".timeLeft").text(t+":"+e)},o=function(t){return Math.floor(t/e)},r=function(){return $(".block").width(e-1),$(".block").height(e-1),$(".man").width(e/2),$(".man").height(e/2)},a=function(){var t,a,i,o,c,u,d,f,w,m,p,v,y,k,j,x;for(h(),p=new Array(n),w=0,m=0,d=0,f=0,y=g,k=b,v=180;n>k;)switch(void 0===p[k]&&(p[k]=new Array(n)),p[k][y]="x",u=Math.floor(5*Math.random())){case 1:y>0&&y--;break;case 2:y>0&&(y--,p[k][y]="x",k++);break;case 3:k++;break;case 4:n-1>y&&y++,p[k][y]="x",k++;break;case 5:n-1>y&&y++}for(void 0===p[n-1]&&(p[n-1]=new Array(n),p[n-1][y]="x"),i=j=1,x=n*n;x>=1?x>=j:j>=x;i=x>=1?++j:--j)d=w*e,f=m*e,a=$("<div/>").css("top",f).css("left",d).addClass("block").appendTo($(".game")),o=!1,void 0!==p[m]&&void 0!==p[m][w]&&"x"===p[m][w]&&(a.addClass("way"),o=!0),t=new Object,t.x=w,t.y=m,t.isWay=o,t.el=a,void 0===s[m]&&(s[m]=new Array(10)),s[m][w]=t,w===n-1&&(m+=1,w=-1),w+=1;return c=$("<div/>").addClass("man").appendTo($(".game")),l(g,b),r()},$(".verylow").click(function(){return n=y,a()}),$(".low").click(function(){return n=u,a()}),$(".medium").click(function(){return n=d,a()}),$(".high").click(function(){return n=c,a()}),$(".veryhigh").click(function(){return n=v,a()}),$(".game").mousedown(function(t){var e,n,a;return f(),a=$(this).offset(),e=o(t.pageX-a.left),n=o(t.pageY-a.top),(e===g+1||e===g-1)&&n===b||(n===b+1||n===b-1)&&e===g?(g=e,b=n,l(g,b)):void 0}),$(document).keydown(function(t){if(t.which>36&&t.which<41){switch(t.preventDefault(),f(),t.which){case 37:g>0&&g--;break;case 40:b>0&&b--;break;case 39:n-1>g&&g++;break;case 38:n-1>b&&b++}return l(g,b)}}),a()}).call(this);